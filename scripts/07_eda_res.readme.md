# README: 07_eda_res.py - Exploratory Data Analysis for RES Generation

## Purpose
Its primary purpose is to perform Exploratory Data Analysis (EDA) on the processed daily Renewable Energy Sources (RES) generation data for Italy. This involves:
1.  Loading the processed RES generation data (`res_generation2015_2024.csv`) which results from `06_process_res_data.py`.
2.  Performing feature engineering, including creating time-based features (year, month, day, etc.) and lag features from past RES generation values, and rolling window statistics.
3.  Generating visualizations to understand trends, seasonality, distributions, and relationships within the RES generation data and its engineered features. This includes time series plots, boxplots by year/month, scatter plots for feature relationships, and a correlation heatmap.
4.  Preparing the data for model training by performing a train/test split (though the actual training script, `08_train_res_model.py`, might re-perform or refine this split).

## Inputs
*   `project/data/final/Italy/res_generation2015_2024.csv`: Processed daily RES generation data from 2015 to 2024. This file is generated by `06_process_res_data.py`. It should contain at least a 'Date' column and a 'Total_RES_Generation_MW' column (or a similarly named target column representing daily average RES generation).

## Outputs
*   **Visualizations (Plots):** Saved as PNG files in the `project/outputs/images/` directory. Examples include:
    *   `07_res_generation_timeseries.png`: Time series plot of daily RES generation.
    *   `07_res_generation_by_year.png`: Boxplot of RES generation distribution per year.
    *   `07_res_generation_by_month.png`: Boxplot of RES generation distribution per month.
    *   `07_res_lag_feature_rel_*.png`: Scatter plots showing relationships between lag features and the target.
    *   `07_res_rolling_feature_rel_*.png`: Scatter plots for rolling window features.
    *   `07_res_correlation_matrix.png`: Heatmap of feature correlations.
    *   `07_res_train_test_split.png`: Plot visualizing the train and test data points over time.
*   **Console Output:** Information about data loading, shapes, descriptive statistics, and progress of the EDA steps.
*   **Data for Training (Conceptual):** The script prepares features (X) and target (y) and performs a train/test split. While not explicitly saved to CSV in this script version, the logic for creating `X_train`, `X_test`, `y_train`, `y_test` is present. The subsequent training script (`08_train_res_model.py`) will handle loading the base data and preparing it for model training, potentially re-using or adapting the feature engineering and splitting logic from this EDA phase.

## Assumptions
*   The input CSV file (`res_generation2015_2024.csv`) exists and is correctly formatted as per the output of `06_process_res_data.py`.
*   The target column for RES generation is named `Total_RES_Generation_MW` or can be clearly identified.
*   The 'Date' column is present and can be parsed into datetime objects.
*   Standard Python data science libraries (`pandas`, `numpy`, `matplotlib`, `seaborn`, `scikit-learn`) are installed in the project's virtual environment.

## How to Run
1.  Ensure that `06_process_res_data.py` (or its notebook equivalent) has been run successfully to generate `project/data/final/Italy/res_generation2015_2024.csv`.
2.  This notebook (`07_eda_res.ipynb`) is intended to be run after being converted from `project/scripts/07_eda_res.py` using `jupytext`:
    ```bash
    jupytext --to notebook project/scripts/07_eda_res.py
    ```
    Then, move the generated `project/scripts/07_eda_res.ipynb` to `project/notebooks/07_eda_res.ipynb`.
3.  Open and run the cells in `project/notebooks/07_eda_res.ipynb` using a Jupyter Notebook environment.

## Next Steps
The insights and prepared data from this EDA phase will inform the development of the RES generation forecasting model in `08_train_res_model.py` (and its corresponding notebook `08_train_res_model.ipynb`). 